[keyboard]
name = "rmk-sweep"
product_name = "rmk-sweep"
vendor_id = 0x4c4b
product_id = 0x4643
manufacturer = "RMK"
chip = "nrf52840"

[layout]
# WARNING: Currently row2col/col2row is set in RMK's feature gate, row2col config here is valid ONLY when you're using cloud compilation.
# Checkout doc here: https://rmk.rs/docs/user_guide/faq.html#my-matrix-is-row2col-the-matrix-doesn-t-work
# row2col = true
rows = 8
cols = 5
layers = 4
matrix_map = """
    (0,0) (0,1) (0,2) (0,3) (0,4)  (4,4) (4,3) (4,2) (4,1) (4,0)
    (1,0) (1,1) (1,2) (1,3) (1,4)  (5,4) (5,3) (5,2) (5,1) (5,0)
    (2,0) (2,1) (2,2) (2,3) (2,4)  (6,4) (6,3) (6,2) (6,1) (6,0)
                      (3,0) (3,1)  (7,1) (7,0)
"""

[aliases]
EXLM = "WM(Kc1, LShift)"
AT = "WM(Kc2, LShift)"
HASH = "WM(Kc3, LShift)"
DLR = "WM(Kc4, LShift)"
PERC = "WM(Kc5, LShift)"
CIRC = "WM(Kc6, LShift)"
AMPR = "WM(Kc7, LShift)"
ASTR = "WM(Kc8, LShift)"
LPRN = "WM(Kc9, LShift)"
RPRN = "WM(Kc0, LShift)"
UNDS = "WM(Minus, LShift)"
PLUS = "WM(Equal, LShift)"
LCBR = "WM(LeftBracket, LShift)"
RCBR = "WM(RightBracket, LShift)"
COLN = "WM(Semicolon, LShift)"
DQUO = "WM(Quote, LShift)"
PIPE = "WM(Backslash, LShift)"
TILD = "WM(Grave, LShift)"
MINS = "MT(Minus, RGui)"
EQL = "MT(Equal, RAlt)"
LBRC = "MT(LeftBracket, RCtrl)"
RBRC = "MT(RightBracket, RShift)"
BT0 = "User0"
BT1 = "User1"
BT2 = "User2"
BT_NEXT = "User3"
BT_PREV = "User4"
BT_CLR = "User5"
USB_BLE = "User6"

[[layer]]
name = "base"
keys = """
Q W E R T Y U I O P
MT(A, LShift) S D F G H J K L MT(Enter, RShift)
MT(Z, LGui) X C V B N M Comma Dot MT(Slash, RAlt)
LT(1, Tab) MT(Escape, LCtrl) Space LT(1, Backspace)
"""

[[layer]]
name = "upper"
keys = """
@EXLM @AT @HASH @DLR @PERC @CIRC @AMPR @ASTR @LPRN @RPRN
LShift LCtrl LAlt LGui No No @UNDS @PLUS @LCBR @RCBR
CapsLock No No No No No @COLN @DQUO @PIPE @TILD
_ _ _ MO(3)
"""

[[layer]]
name = "lower"
keys = """
Kc1 Kc2 Kc3 Kc4 Kc5 Kc6 Kc7 Kc8 Kc9 Kc0
LShift LCtrl LAlt LGui No No @MINS @EQL @LBRC @RBRC
CapsLock No No No No No Semicolon Quote Backslash Grave
MO(3) _ _ _
"""

[[layer]]
name = "adjust"
keys = """
F1 F2 F3 F4 F5 F6 F7 F8 F9 F10
F11 F12 PrintScreen No No Left Down Up Right Delete
@BT0 @BT1 @BT2 @BT_CLR @USB_BLE MediaNextTrack AudioMute AudioVolDown AudioVolUp MediaPlayPause
_ _ _ _
"""

[behavior]
tap_hold = { enable_hrm = true, permissive_hold = true, unilateral_tap = true, hold_on_other_press = true }

[ble]
enabled = true

[split]
connection = "ble"

[split.central]
rows = 4
cols = 5
row_offset = 0
col_offset = 0
[split.central.matrix]
matrix_type = "direct_pin"
direct_pin_low_active = true
direct_pins = [
    ["P0_09", "P0_02", "P0_29", "P0_31", "P0_30"],
    ["P1_13", "P0_03", "P0_28", "P1_11", "P0_06"],
    ["P0_15", "P0_17", "P0_20", "P0_13", "P0_24"],
    ["P0_10", "P1_06", "_", "_", "_" ]
]

[[split.peripheral]]
rows = 4
cols = 5
row_offset = 4
col_offset = 0

[split.peripheral.matrix]
matrix_type = "direct_pin"
direct_pin_low_active = true
direct_pins = [
    ["P0_09", "P0_02", "P0_29", "P0_31", "P0_30"],
    ["P1_13", "P0_03", "P0_28", "P1_11", "P0_06"],
    ["P0_15", "P0_17", "P0_20", "P0_13", "P0_24"],
    ["P0_10", "P1_06", "_", "_", "_" ]
]
